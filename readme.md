# Openedu ITMO web tech course
## Week 8 homework project

### Цель
- Разработать веб-приложение с использованием фреймворка Express.

### Приложение должно
- Находиться в публичном доступе;
- Работать по протоколу HTTPS;
- В заголовках всех ответов выдавать:
    - Access-Control-Allow-Origin со значением «*»;
    - Access-Control-Allow-Methods со значением «GET,POST,PUT,PATCH,OPTIONS,DELETE»;
    - Соблюдать политику Trailing Slashes, при которой основная часть URI всегда заканчивается символом слэша «/»;
    - Использовать фреймворк Express.
### Структура приложения
- Структура веб-приложения должна состоять из файлов app.js и index.js, размещенных в рамках одной папки.

#### Файл app.js
- Данный файл должен в формате ESM экспортировать функцию инициалиации Express-приложения (примеры работы с экспортом).
- Не забудьте о ключе type="module" в файле package.json
- В результате своей работы экспортируемая функция должна возвращать экземпляр готового к работе Express-приложения.


#### Файл index.js
- Сначала в данном файле должны быть импортированы внешние модули необходимые для работы приложения
- Затем из файла app.js необходимо импортировать функцию инициализации Express-приложения
- Полученному приложению необходимо дать указание о прослушивании входящих запросов с порта предоставляемого средой хостера (Heroku или Repl.it) или собственного:

        app.listen(process.env.PORT);

### Основные маршруты приложения (app.js)
    - /login/ Возвращает Ваш логин в системе OpenEDU в виде простого текста 

    - /code/ Возвращает исходный код app.js

    - /sha1/:input/ Возвращает хэш sha1 от строки, представленной параметром URL (по имени input)

    - /req/ с параметром ?addr= Возвращает содержимое интернет-ресурса по адресу, содержащемуся в query-параметре URL по имени addr (в простом текстовом формате). Данный маршрут должен обрабатываться методами GET и POST c возможностью в последнем случае получить значение addr из тела запроса

    - Маршрут отлова всех остальных вариантов запросов (используйте для этого app.all) Возвращает Ваш логин в системе OpenEDU

### Дополнительные маршруты недели
    - /wordpress/ приложение должно выдавать главную страницу Wordpress – иными словами, вам нужно развернуть копию Wordpress согласно видеоуроку и настроить сервер так, чтобы по этому маршруту можно было обратиться к этому экземпляру сайта. На сайте должен быть один пост с идентификатором 1, и значением заголовка (title) этого единственного поста должен быть ваш логин из пункта 5.1.
    Пример: https://week8.kodaktor.ru/wordpress/
    (при проверке происходит обращение к API с использованием субмаршрута /wordpress/wp-json/wp/v2/)
    - /render/ приложение должно принимать тело POST-запроса в формате application/json, которое представлет собой строку, результат сериализации объекта с полями random2 и random3. Также приложение должно принимать переменную адресной строки (querystring), которая имеет имя addr. В качестве значение переменной addr приложению предлагается адрес, по которому располагается pug-шаблон, в который и подставляются значения random2 и random3. Реагируя на маршрут, приложение должно сделать рендер этого шаблона с этими значениями и выдать в качестве ответа HTML-разметку, т.е. обычную веб-страницу.
    Пример обращения:
    curl -H 'Content-Type: application/json' 'https://week8.kodaktor.ru/render/?addr=http://kodaktor.ru/j/unsafe_0ebdb' -d '{"random2":"0.4433","random3":"0.1199"}'
